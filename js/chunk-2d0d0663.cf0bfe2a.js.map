{"version":3,"sources":["webpack:///./src/views/Front/Traffic.vue","webpack:///./src/views/Front/Traffic.vue?e701"],"names":["class","value","type","option","to","src","alt","href","city","place","item","City","key","CityName","subRoutdName","routeName","routeNames","TaiwanTripName","Zh_tw","RouteUID","getStopsData","switchSearch","subRoutdNames","SubRouteUID","SubRouteID","Headsign","SubRouteName","findRoute","SubRoutes","length","searchRouteStops","stopIndex","DestinationStopNameZh","DepartureStopNameZh","second","stops","slice","Math","round","StopName","changTimeClass","changTimeInfo","changeTotopbtn","components","totopBtn","data","routeData","goStops","backStops","subStops","aloneStops","tiemControl","storageRouteName","windowY","methods","this","clearCountsecond","url","$http","get","headers","AuthorizationHeader","then","res","countSecond","getStopsTime","catch","err","console","log","updataTime","count","setInterval","clearInterval","push","forEach","arry","setData","timeData","StopUID","EstimateTime","StopStatus","go","filter","Direction","back","gotimeData","backtimeData","alonetimeData","subArry","subtimeData","str","minute","floor","countScroll","window","scrollY","computed","find","watch","Stops","created","mounted","addEventListener","unmounted","removeEventListener","__exports__","render"],"mappings":"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","file":"js/chunk-2d0d0663.cf0bfe2a.js","sourcesContent":["<template>\n  <div class=\"bg-white boxshadow\">\n    <nav class=\"container header\">\n      <div class=\"\n      d-flex w-100 position-relative mb-4 mb-md-0\n      justify-content-center align-items-center\n      justify-content-md-between align-items-md-end\">\n        <router-link @click.prevent=\"type = 'scapeAct',option = 'all'\" to=\"/\">\n        <img class=\"cursor-pointer taiLogo\"\n        :src=\"require('@/assets/img/Group 4.png')\"\n        alt=\"\">\n        </router-link>\n        <ul class=\"d-none d-md-flex list-unstyled\">\n          <li class=\"d-flex position-relative align-items-end hoverLine hoverLine-primary\">\n            <div class=\"roundShapeIcon roundShapeIcon-primary me-2\">\n                <div class=\"triangle\"></div>\n            </div>\n            <router-link href=\"#\" @click.prevent=\"type = 'scapeAct',option = 'all'\"\n            to=\"/\"\n            class=\"stretched-link link-primary lh-24 text-decoration-none\">台灣景點</router-link>\n          </li>\n          <li class=\"d-flex position-relative align-items-end ms-6 hoverLine hoverLine-secondary\">\n            <div class=\"roundShapeIcon roundShapeIcon-secondary me-2\">\n              <div class=\"square\"></div>\n            </div>\n            <router-link href=\"#\" @click.prevent=\"type = 'liveFood',option = 'all'\"\n            to=\"/FoodLive\"\n            class=\"stretched-link link-secondary text-decoration-none\"\n            >美食住宿</router-link>\n          </li>\n          <li class=\"d-flex position-relative align-items-end ms-6 hoverLine hoverLine-danger\">\n            <div class=\"roundShapeIcon roundShapeIcon-danger me-2\">\n              <div class=\"round\"></div>\n            </div>\n            <router-link\n            to='/Traffic'\n            class=\"stretched-link link-danger text-decoration-none\">景點交通</router-link>\n          </li>\n        </ul>\n      </div>\n      <!-- 手機出現的功能列表-->\n    <div class=\"header-options d-md-none\">\n      <ul class=\"d-flex justify-content-between list-unstyled\">\n        <li>\n          <router-link href=\"#\"\n          @click.prevent=\"type = 'scapeAct',option = 'all'\" to=\"/\"\n          class=\"header-options-link text-decoration-none\">景點活動</router-link></li>\n        <li>\n          <router-link\n          @click.prevent=\"type = 'liveFood',option = 'all'\" to=\"/FoodLive\"\n          class=\"header-options-link text-decoration-none\">美食住宿</router-link></li>\n        <li>\n          <router-link to='/Traffic'\n          class=\"header-options-link text-decoration-none\">景點交通</router-link></li>\n      </ul>\n    </div>\n      <div class=\"input-group justify-content-center\n      w-lg-50 w-md-70 w-100 mx-auto mt-6\">\n          <select class=\"form-select me-1 rounded-3\" v-model=\"city\">\n            <option value=\"\">選擇縣市</option>\n            <option :value=\"item.City\" v-for=\"item in place\" :key=\"item.City\">\n              {{item.CityName}}</option>\n          </select>\n          <select class=\"form-select me-1 rounded-3\"\n          @change=\"subRoutdName = ''\"\n          v-model=\"routeName\">\n            <option value=\"\">選擇路線</option>\n            <option :value=\"item.TaiwanTripName.Zh_tw\"\n            v-for=\"item in routeNames\" :key=\"item.RouteUID\">\n            {{item.TaiwanTripName.Zh_tw}}</option>\n          </select>\n          <!-- 桌機搜尋篩選功能列表 -->\n          <a href=\"#\" @click.prevent=\"getStopsData()\"\n          :class=\"{'disabled' : switchSearch}\"\n          class=\"searchIcon rounded-3 btn\">\n          <img :src=\"require('@/assets/img/search.svg')\" alt=\"\"></a>\n      </div>\n      <div v-if=\"subRoutdNames\"\n      class=\"input-group w-lg-50 w-md-70 w-100 mx-auto mt-4\">\n        <select class=\"form-select rounded-3\" v-model=\"subRoutdName\">\n          <option value=\"\">選擇支線或主線</option>\n          <option :value=\"item.SubRouteUID\"\n          v-for=\"item in subRoutdNames\" :key=\"item.SubRouteID\">\n          <template v-if=\"item.Headsign\">\n            {{item.SubRouteName.Zh_tw}}{{item.Headsign}}</template>\n          <template v-else>{{item.SubRouteName.Zh_tw}}</template>\n          </option>\n        </select>\n      </div>\n    </nav>\n    <div class=\"container\">\n      <div\n      v-if=\"!subRoutdNames && routeName && findRoute.SubRoutes.length > 1 && searchRouteStops[0]\"\n      class=\"d-flex mt-md-5\n        w-lg-50 w-md-70 w-100 mx-auto\">\n            <a href=\"#\" :class=\"{'border-bottom':stopIndex === 0}\"\n            @click.prevent=\"stopIndex = 0\"\n            class=\"text-center mb-0 flex-grow-1 text-dark flex-grow-1\n            text-decoration-none border-3 border-primary\">\n            <!-- 切換border-bottom -->\n              <p class=\"mb-0\">往\n                <span class=\"text-primary ms-3\">\n                  {{findRoute.DestinationStopNameZh}}\n                </span>\n              </p>\n            </a>\n            <a href=\"#\"\n            @click.prevent=\"stopIndex = 1\" :class=\"{'border-bottom':stopIndex === 1}\"\n            class=\"text-center mb-0 flex-grow-1 text-dark flex-grow-1\n            text-decoration-none border-3 border-primary\">\n              <p class=\"mb-0\">往\n                <span class=\"text-primary ms-3\">\n                  {{findRoute.DepartureStopNameZh}}\n                </span>\n              </p>\n            </a>\n      </div>\n    </div>\n  </div>\n  <div class=\"container mt-10\">\n    <p class=\"text-end mb-0 text-primary\">*每隔 15 秒自動更新 {{second}} 秒</p>\n    <!-- 增加rounded-16 -->\n    <div class=\"bg-white px-7 py-10\">\n      <p class=\"text-success h3\" v-if=\"!stops[0]\">請選擇公車路線</p>\n      <ul :class=\"{'vh-100': !stops[0]}\"\n      class=\"list-unstyled row row-cols-md-2 row-cols-1\">\n      <div class=\"col\">\n        <div v-for=\"item in stops.slice(0,Math.round(stops.length / 2))\" :key=\"item.StopName.Zh_tw\"\n        class=\"d-flex align-items-center mb-3\">\n          <div :class=\"changTimeClass(changTimeInfo(item))\"\n          class=\"rounded-3 border-3 border py-3 min-h-120\n            text-center text-bold fs-5\">{{changTimeInfo(item)}}</div>\n          <p class=\"mb-0 text-center flex-grow-1 text-bold fs-5\">{{item.StopName.Zh_tw}}</p>\n        </div>\n      </div>\n      <div class=\"col\">\n        <div v-for=\"item in stops.slice(Math.round(stops.length / 2),stops.length)\"\n        :key=\"item.StopName.Zh_tw\"\n        class=\"d-flex align-items-center mb-3\">\n          <div :class=\"changTimeClass(changTimeInfo(item))\"\n          class=\"rounded-3 border-3 border py-3 min-h-120\n            text-center text-bold fs-5\">\n            {{changTimeInfo(item)}}</div>\n          <p class=\"mb-0 text-center flex-grow-1 text-bold fs-5\">{{item.StopName.Zh_tw}}</p>\n        </div>\n      </div>\n      </ul>\n    </div>\n  </div>\n  <totopBtn v-if=\"changeTotopbtn\"></totopBtn>\n  <footer class=\"text-center text-success bg-white py-lg-6 py-2\">\n  Taiwan Tourguide  © Code: Sam  /  Design: KT</footer>\n</template>\n\n<script>\nimport place from '@/assets/json/place.json';\nimport AuthorizationHeader from '@/assets/javascript/AuthorizationHeader';\nimport totopBtn from '@/components/totopBtn.vue';\n\nexport default {\n  components: {\n    totopBtn,\n  },\n  data() {\n    return {\n      place: null,\n      city: '',\n      routeName: '',\n      subRoutdName: '',\n      routeData: [], // 抓取所有路線\n      searchRouteStops: [], // 抓取路線站點\n      goStops: [], // 去的公車站牌\n      backStops: [], // 往的公車站牌\n      subStops: [], // 支路線公車站牌\n      aloneStops: [], // 單一路線\n      stopIndex: 0, // 決定顯示何種路線站牌\n      second: 0,\n      tiemControl: [], // 儲存計時器\n      storageRouteName: '', // 避免routeName連動\n      windowY: 0,\n    };\n  },\n  methods: {\n    getStopsData() {\n      this.goStops = [];\n      this.subStops = [];\n      this.aloneStops = [];\n      this.backStops = [];\n      this.second = 0;\n      this.storageRouteName = this.routeName;\n      this.clearCountsecond();\n      const url = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Bus/StopOfRoute/TaiwanTrip/${this.routeName}?$&$format=JSON`;\n      this.$http.get(url, { headers: AuthorizationHeader() })\n        .then((res) => {\n          this.searchRouteStops = res.data;\n          this.countSecond();\n          this.getStopsTime();\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    getStopsTime() { // 預計到達時間\n      const url = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Bus/EstimatedTimeOfArrival/TaiwanTrip/${this.storageRouteName}?`;\n      this.$http.get(url, { headers: AuthorizationHeader() })\n        .then((res) => {\n          this.updataTime(res.data);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    countSecond() { // 計時器15秒會清除本身\n      const count = setInterval(() => {\n        if (this.second === 15) {\n          this.second = 0;\n          clearInterval(count);\n          return;\n        }\n        this.second += 1;\n      }, 1000);\n      this.tiemControl.push(count);\n    },\n    clearCountsecond() { // 避免計時器在切換路徑時之前的沒有清除掉，因此使用一個陣列去儲存\n      this.tiemControl.forEach((item) => {\n        clearInterval(item);\n      });\n    },\n    updataTime(arry) { // 依照目前stopindex，去對應更新的資料。\n      const setData = (item, timeData) => {\n        if (item.StopUID === timeData.StopUID) {\n          const data = item;\n          data.EstimateTime = timeData.EstimateTime;\n          data.StopStatus = timeData.StopStatus;\n        }\n      };\n      if (this.stopIndex === 1 || this.stopIndex === 0) {\n        const go = arry.filter((item) => item.Direction === 0);\n        const back = arry.filter((item) => item.Direction === 1);\n        this.goStops.forEach((item) => {\n          go.forEach((gotimeData) => {\n            setData(item, gotimeData);\n          });\n        });\n        this.backStops.forEach((item) => {\n          back.forEach((backtimeData) => {\n            setData(item, backtimeData);\n          });\n        });\n      }\n      if (this.stopIndex === 3) {\n        this.aloneStops.forEach((item) => {\n          arry.forEach((alonetimeData) => {\n            setData(item, alonetimeData);\n          });\n        });\n        console.log(this.aloneStops);\n      }\n      if (this.stopIndex === 2) {\n        const subArry = arry.filter((item) => item.SubRouteUID === this.subRoutdName);\n        this.subStops.forEach((item) => {\n          subArry.forEach((subtimeData) => {\n            setData(item, subtimeData);\n          });\n        });\n        console.log(this.subStops);\n      }\n    },\n    changTimeInfo(data) { // 判斷車況給予不同情況文字\n      const { EstimateTime, StopStatus } = data;\n      if (StopStatus !== 0) {\n        let str;\n        if (StopStatus === 1) {\n          str = '尚未發車';\n        } else if (StopStatus === 2) {\n          str = '交管不停靠';\n        } else if (StopStatus === 3) {\n          str = '末班車已過';\n        } else {\n          str = '今日未營運';\n        }\n        return str;\n      }\n      if (EstimateTime) {\n        const minute = EstimateTime > 60 ? Math.floor(EstimateTime / 60) : 0;\n        const second = EstimateTime - minute * 60;\n        if (EstimateTime < 100) {\n          return '進站中';\n        }\n        const str = minute > 1 ? `${minute} : ${second}` : `${second}`;\n        return str;\n      }\n      return '離站中';\n    },\n    changTimeClass(str) { // 依據車況反饋的文字給予不一樣的class\n      let arry = [];\n      if (str === '尚未發車') {\n        arry = ['border-success', 'text-success'];\n      } else if (str === '進站中') {\n        arry = ['border-primary', 'bg-primary', 'text-white'];\n      } else if (str === '離站中') {\n        arry = ['border-secondary', 'bg-secondary', 'text-white'];\n      } else {\n        arry = ['border-dark'];\n      }\n      return arry;\n    },\n    countScroll() {\n      this.windowY = window.scrollY;\n    },\n  },\n  computed: {\n    routeNames() { // 分出市區公車和公路公車\n      if (this.city) {\n        return this.routeData.filter((item) => item.City === this.city);\n      }\n      return this.routeData.filter((item) => !item.City);\n    },\n    subRoutdNames() { //  判斷公車路線是否有支線\n      if (this.routeName) {\n        if (this.findRoute.SubRoutes.length > 2) {\n          return this.findRoute.SubRoutes;\n        }\n        return '';\n      }\n      return '';\n    },\n    switchSearch() { // 如果有支必須確認好支線名稱，沒有支線我才給你打開可以搜尋的按鈕\n      if (this.subRoutdNames) {\n        if (this.subRoutdName) {\n          return false;\n        }\n        return true;\n      }\n      if (this.routeName) {\n        return false;\n      }\n      return true;\n    },\n    findRoute() {\n      return this.routeData.find((item) => item.TaiwanTripName.Zh_tw === this.routeName);\n    },\n    stops() {\n      if (this.stopIndex === 1) {\n        return this.backStops;\n      }\n      if (this.stopIndex === 2) {\n        return this.subStops;\n      }\n      if (this.stopIndex === 0) {\n        return this.goStops;\n      }\n      if (this.stopIndex === 3) {\n        return this.aloneStops;\n      }\n      return '';\n    },\n    changeTotopbtn() {\n      if (this.windowY > 300) {\n        return true;\n      }\n      return false;\n    },\n  },\n  watch: {\n    routeNames() {\n      this.routeName = '';\n    },\n    subRoutdNames() {\n      if (this.subRoutdNames) {\n        return;\n      }\n      this.subRoutdName = '';\n    },\n    searchRouteStops() {\n      if (this.subRoutdName) {\n        // 如果有填選支線，不需要分去程\n        this.subStops = this.searchRouteStops\n          .find((item) => item.SubRouteUID === this.subRoutdName).Stops;\n        // console.log(this.subStops);\n        this.stopIndex = 2;\n        return;\n      }\n      if (this.searchRouteStops.length === 1) {\n        // 代表沒有去反向\n        console.log(this.searchRouteStops);\n        this.aloneStops = this.searchRouteStops[0].Stops;\n        this.stopIndex = 3;\n        return;\n      }\n      this.stopIndex = 0;\n      this.goStops = this.searchRouteStops\n        .find((item) => item.Direction === 0)\n        .Stops;\n      this.backStops = this.searchRouteStops\n        .find((item) => item.Direction === 1)\n        .Stops;\n      // console.log(this.goStops);\n      // console.log(this.backStops);\n    },\n    second() { // 監聽秒數\n      if (this.second === 15) {\n        this.getStopsTime();\n        this.countSecond();\n      }\n    },\n  },\n  created() {\n    const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/Bus/Route/TaiwanTrip?$format=JSON';\n    this.$http.get(url, { headers: AuthorizationHeader() })\n      .then((res) => {\n        this.routeData = res.data;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    this.place = place;\n  },\n  mounted() {\n    window.addEventListener('scroll', this.countScroll);\n  },\n  unmounted() {\n    window.removeEventListener('scroll', this.countScroll);\n  },\n};\n</script>\n","import { render } from \"./Traffic.vue?vue&type=template&id=1c0a8e2c\"\nimport script from \"./Traffic.vue?vue&type=script&lang=js\"\nexport * from \"./Traffic.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\相關作品\\\\高雄旅遊網\\\\travel\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}